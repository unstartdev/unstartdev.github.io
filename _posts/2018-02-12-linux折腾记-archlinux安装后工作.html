---
layout: post
title: linux折腾记-archlinux安装后工作
tag: 
---

<p>别问我为什么不写安装了，因为<del>懒</del>没时间</p><p>这次，我们来讲安装后要做的东西<br><a id="more"></a></p><h2 id="连上网络"><a href="#连上网络" class="headerlink" title="连上网络"></a>连上网络</h2><ol><li>有线网络: <code>dhcpcd</code></li><li>Wi-Fi: <code>wifi-menu</code></li></ol><h2 id="图形化界面"><a href="#图形化界面" class="headerlink" title="图形化界面"></a>图形化界面</h2><p>首先得安装<strong>xorg和它的驱动</strong><br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">pacman -S xorg</span></span><br></pre></td></tr></table></figure></p><p>推荐使用开源驱动<br><strong>AMD: xf86-video-amdgpu</strong><br><strong>Nvidia: xf86-video-nouveau</strong><br><strong>Intel: xf86-video-intel</strong></p><h3 id="安装DE"><a href="#安装DE" class="headerlink" title="安装DE"></a>安装DE</h3><p>这里我只列举一些DE，而不推荐，因为每个人都有自己的喜好</p><blockquote><p>排名不分前后</p></blockquote><ol><li>Xfce<br>轻量级的的桌面环境，即使在老机型上也能运行地十分流畅</li></ol><h4 id="安装方法"><a href="#安装方法" class="headerlink" title="安装方法"></a>安装方法</h4><p>基本桌面环境:<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">pacman</span> -S xfce4</span><br></pre></td></tr></table></figure></p><p>加上额外应用:<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">pacman</span> -S xfce4 xfce4-goodies</span><br></pre></td></tr></table></figure></p><ol><li>KDE<br>华丽华丽的桌面环境</li></ol><h4 id="安装方法-1"><a href="#安装方法-1" class="headerlink" title="安装方法"></a>安装方法</h4><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">pacman -S plasma</span></span><br></pre></td></tr></table></figure><h2 id="显示管理器-DM"><a href="#显示管理器-DM" class="headerlink" title="显示管理器(DM)"></a>显示管理器(DM)</h2><blockquote><p>注意：GNOME附带gdm,KDE附带sddm,而xfce不带任何显示管理器</p></blockquote><p>我推荐使用lightdm，美观又小巧<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pacman -S lightdm</span><br><span class="line">systemctl <span class="builtin-name">enable</span> lightdm</span><br></pre></td></tr></table></figure></p><h2 id="sudo"><a href="#sudo" class="headerlink" title="sudo"></a>sudo</h2><p>使用系统默认的root用户来管理系统，权限太高，太危险，所以我们用普通用户，并使用<strong>sudo</strong>来提高用户的权限</p><p>先使用<code>sudo -v</code>来判断sudo是否存在于系统中，如果没有，先安装之<code>pacman -S sudo</code></p><h3 id="新建一个用户"><a href="#新建一个用户" class="headerlink" title="新建一个用户"></a>新建一个用户</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd -m -g<span class="built_in"> users </span>-G wheel $(username) #不要忘记替换$(username)为你的用户名</span><br></pre></td></tr></table></figure><blockquote><p>为了更方便，我们使用vim作为EDITOR，没有vim你可以使用pacman -S vim来安装</p></blockquote><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="builtin-name">export</span> <span class="attribute">EDITOR</span>=vim</span><br><span class="line">visudo</span><br></pre></td></tr></table></figure><p>移动光标至<code>%wheel ALL=(ALL) ALL</code>,并解除注释，如果不想在执行<code>sudo</code>时输入密码，那就解除注释<code>%wheel ALL=(ALL) NOPASSWD： ALL</code></p><h2 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h2><p>在图形化界面我们应该使用更方便的<strong>NetworkManager</strong>，而不是<strong>netctl</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pacman -S networkmanager network-manager-applet</span><br><span class="line">systemctl <span class="built_in">disable</span> netctl <span class="comment"># 禁用netctl</span></span><br><span class="line">systemctl <span class="built_in">enable</span> NetworkManager <span class="comment"># 区分大小写，启用NetworkManager</span></span><br></pre></td></tr></table></figure></p><h2 id="中文化"><a href="#中文化" class="headerlink" title="中文化"></a>中文化</h2><p>我相信你已经按照官方wiki在安装时正确配置了locale</p><p>我们先在<code>~/.xprofile</code>中添加以下字段<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="builtin-name">export</span> <span class="attribute">LANG</span>=zh_CN.UTF-8</span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">LC_ALL</span>=<span class="string">"zh_CN.UTF-8"</span></span><br></pre></td></tr></table></figure></p><blockquote><p>注意！ 这是在root用户处设置的你需要在你的用户家目录再做一次，用户家目录为/home/你的用户名</p></blockquote><h3 id="安装中文字体"><a href="#安装中文字体" class="headerlink" title="安装中文字体"></a>安装中文字体</h3><p>noto-fonts-cjk是个不错的选择<br><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S noto-<span class="built_in">fonts</span> noto-<span class="built_in">fonts</span>-cjk</span><br></pre></td></tr></table></figure></p><h2 id="重新启动"><a href="#重新启动" class="headerlink" title="重新启动"></a>重新启动</h2><p>到这里我们可以重新启动计算机了<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">reboot</span></span><br></pre></td></tr></table></figure></p><h2 id="字体优化"><a href="#字体优化" class="headerlink" title="字体优化"></a>字体优化</h2><p>linux的字体一直饱受诟病，但其实只是你没有调教对而已</p><blockquote><p>以xfce为例</p></blockquote><p>思源黑体是另一个字体集，你需要安装 <strong>adobe-source-han-sans-cn-fonts</strong> <strong>adobe-source-han-serif-cn-fonts</strong><br><img src="https://i.loli.net/2018/02/13/5a824f84b469f.png" alt="截图_2018-02-13_10-37-05.png"></p><h3 id="使用其他系统的字体处理效果"><a href="#使用其他系统的字体处理效果" class="headerlink" title="使用其他系统的字体处理效果"></a>使用其他系统的字体处理效果</h3><p>为了不造轮子，还是把官方文档搬上来吧</p><p>Archlinux wiki: <a href="https://wiki.archlinux.org/index.php/Font_Configuration/Chinese_Font_Configurations_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87" target="_blank" rel="noopener">Link</a>)</p>
