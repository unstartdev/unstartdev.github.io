---
layout: post
title: Termux+Hexo+Travis-CI 10分钟搭建Hexo站点
tag: 
---

<h2 id="前提"><a href="#前提" class="headerlink" title="前提:"></a>前提:</h2><ul><li>可正常使用的Android手机(Rootd,如果没有Root也行只不过写文章比较麻烦)</li><li>Github账号<a id="more"></a>如果满足以上条件，我们就可以开始了,安装Termux</li></ul><blockquote><p><a href="https://f-droid.org/packages/com.termux/" target="_blank" rel="noopener">F-droid</a></p></blockquote><p>在应用内安装Git:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pkg install git</span><br><span class="line"><span class="meta">#</span><span class="bash">若有安装确认就输y</span></span><br><span class="line"><span class="meta">#</span><span class="bash">再定义一个变量</span></span><br><span class="line">read githubuser</span><br><span class="line"><span class="meta">#</span><span class="bash">然后输入你的Github用户名并按Enter</span></span><br></pre></td></tr></table></figure></p><blockquote><p>Github创建自己的页面仓库  <a href="https://github.com/new" target="_blank" rel="noopener">点我</a>  仓库名为「用户名+github.io」</p></blockquote><p>cd到刚才clone下来的git仓库<strong><em>cd 用户名+github.io</em></strong></p><p>下载这个仓库到本地:<a href="https://github.com/unstartdev/hexo-none/archive/none.zip" target="_blank" rel="noopener">https://github.com/unstartdev/hexo-none/archive/none.zip</a></p><p>解压文件到Termux:<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">mv</span> /文件路径/hexo-<span class="literal">none</span>-<span class="literal">none</span>.zip <span class="variable">$HOME</span>/none.zip;<span class="attribute">unzip</span> <span class="variable">$HOME</span>/none.zip;<span class="attribute">mv</span> <span class="variable">$HOME</span>/hexo-<span class="literal">none</span>-none/source <span class="variable">$HOME</span>/hexo;<span class="attribute">rm</span> <span class="variable">$HOME</span>/none.zip;<span class="attribute">rm</span> -rf <span class="variable">$HOME</span>/hexo-<span class="literal">none</span>-<span class="literal">none</span></span><br></pre></td></tr></table></figure></p><p>现在我们可以按照<a href="https://hexo.io/zh-cn/docs/configuration.html" target="_blank" rel="noopener">hexo的配置文档</a>来配置我们的Hexo了「PS:Hexo目录在hexo目录下」</p><p>配置完成后我们可以开始利用Travis-CI和Git部署了！</p><p>先初始化仓库<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">cd</span> <span class="variable">$HOME</span>/hexo;<span class="attribute">git</span> init</span><br></pre></td></tr></table></figure></p><p>创建分支<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">git</span> <span class="keyword">branch </span>source</span><br></pre></td></tr></table></figure></p><p>让source分支不存在任何关联<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git checkout <span class="literal">master</span></span><br><span class="line">git rm --cached -r . </span><br><span class="line">git clean -f -d </span><br><span class="line">git commit --allow-empty -m <span class="string">"[empty]"</span></span><br></pre></td></tr></table></figure></p><p>加入远程仓库<br><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote <span class="keyword">add</span><span class="bash"> origin https://github.com/<span class="variable">$&#123;githubuser&#125;</span>/<span class="variable">$&#123;githubuser&#125;</span>.github.io.git</span></span><br></pre></td></tr></table></figure></p><p>进行第一次PUSH<br><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">add</span><span class="bash"> .</span></span><br><span class="line"><span class="bash">git push origin master</span></span><br><span class="line"><span class="bash">git checkout <span class="built_in">source</span></span></span><br><span class="line"><span class="bash">git add .</span></span><br><span class="line"><span class="bash">git commit -m <span class="string">"first commit"</span></span></span><br><span class="line"><span class="bash">git push origin <span class="built_in">source</span></span></span><br></pre></td></tr></table></figure></p><p>集成travis-ci<br>在Source分支下创建.travis.yml文件<em>touch .travis.yml</em><br>文件内容参考: <a href="https://github.com/unstartdev/unstartdev.github.io/blob/source/.travis.yml" target="_blank" rel="noopener">Link</a></p><p>再push一次<br><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">add</span><span class="bash"> .</span></span><br><span class="line"><span class="bash">git commit -m <span class="string">"push"</span></span></span><br><span class="line"><span class="bash">git push origin <span class="built_in">source</span></span></span><br></pre></td></tr></table></figure></p><p>登录<a href="https://travis-ci.org" target="_blank" rel="noopener">Travis-CI</a>, sync account然后启用仓库的集成，设置里打开第一项即可</p>
